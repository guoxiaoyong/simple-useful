#!/usr/bin/gbf

# m(0) = 97
+++++ ++++
[>+++++ +++++ +<-]
>--<
>[-<+>]<

# m(1) = 122 
>+++++ +++++ +<
>[>+++++ +++++ +<-]<
>>+<<
>>[-<+>]<<


>>+  # now the pointer is at m(2)
[, # input char in m(2)

<<[- >>>>> >>>>>+>+<<<<< <<<<< <]>>  # m(10)=97 m(11)=97 m(0)=0

<<
>>>>> >>>>> >[-<<<<< <<<<< <+ >>>>> >>>>> >] <<<<< <<<<< <
>>  # m(10)=97 m(0)=97 m(11)=0

[- >>>> >>>> >+>+ <<<<< <<<<<]
>>>>> >>>>> [- <<<<< <<<<< + >>>>> >>>>>] <<<<< <<<<< # restore m(2) = c

>>>> >>>>

[
   >>[-]+<< # flag = 1
   >[->>>+>+<<<<]< # eq = b  tmp = b  b = 0
   >>>>>[-<<<<+>>>>]<<<<< # b restored tmp = 0
   
   >>>>[[-]<<->>]<<<<  # while (eq) 

   - # a minus 1

   >>[
      <<[-]
      >+
      >>[-]+
      <[-]
   ]<<

   >-< # b minus 1
]

>>>[->+>+<<]<<< # eq = bsmall tmp = bsmall bsmall = 0
>>>>>[-<<+>>]<<<<< # restore bsmall set tmp = 0
>[->>>+<<<]<  # eq = bsmall+b  b = 0

>>[-]++<<  # flag = 2
>>>>[[-]<<[-]>>]<<<<
>>[->+<]<<


################################################################
>>> [-<<<<< <<<<< + >>>>> >>>>>] <<<

[-]
>[-]<
>>[-]<<
>>>[-]<<<
>>>>[-]<<<<
>>>>>[-]<<<<<
>>>>>>[-]<<<<<<
>>>>>>>[-]<<<<<<<

<<<< <<<< # restore the pointer to m(2)

################################################################

<[- >>>>> >>>>+>+<<<< <<<<< <]>  # m(10)=122 m(11)=122 m(1)=0

>>>> >>>>> [-<<<< <<<<< <+ >>>> >>>>> >] <<<< <<<<<
# m(10)=122 m(1)=122 m(11)=0

[- >>>> >>>> >+>+ <<<<< <<<<<] # m(11)=c m(12)=c m(2)=0
>>>>> >>>>> [- <<<<< <<<<< + >>>>> >>>>>] <<<<< <<<<< # restore m(2) = c


>>>> >>>>

[
   >>[-]+<< # flag = 1
   >[->>>+>+<<<<]< # eq = b  tmp = b  b = 0
   >>>>>[-<<<<+>>>>]<<<<< # b restored tmp = 0
   
   >>>>[[-]<<->>]<<<<  # while (eq) 

   - # a minus 1

   >>[
      <<[-]
      >+
      >>[-]+
      <[-]
   ]<<

   >-< # b minus 1
]

>>>[->+>+<<]<<< # eq = bsmall tmp = bsmall bsmall = 0
>>>>>[-<<+>>]<<<<< # restore bsmall set tmp = 0
>[->>>+<<<]<  # eq = bsmall+b  b = 0

>>[-]++<<  # flag = 2
>>>>[[-]<<[-]>>]<<<<
>>[->+<]<<


################################################################
>>> [-<<<< <<<<< + >>>> >>>>>] <<<

[-]
>[-]<
>>[-]<<
>>>[-]<<<
>>>>[-]<<<<
>>>>>[-]<<<<<
>>>>>>[-]<<<<<<
>>>>>>>[-]<<<<<<<

<<<< <<<< # restore the pointer to m(2)

################################################################

# if (m(3) == 0 or m(3) == 2) && (m(4) == 2 || m(4) == 1)
# m(3)=0 plus m(4)=1  == 1
# m(3)=0 plus m(4)=2  == 2
# m(3)=2 plus m(4)=1  == 3

>>[[-]>+<]<< # m(5) = 1 if m(4) != 0 set m(4) = 0


>-< # m(3) minus 1
>[[-]>>+<<]< # m(5) plus 1  if m(3) != 0 set m(3) = 0

# if m(5) == 2 then lower case translate it else do nothing
# m(5) only has two values 2 and 1
>>>-[-<<<
----- ----- 
----- ----- 
----- ----- 
-->>>
]<<<

.

]
<<



